let pokemonRepository=function(){let e=[];function t(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){return e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types.map(function(e){return e.type.name.toUpperCase()}),e}).catch(function(e){console.error(e)})}function n(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log("pokemon is not correct")}function o(){return e}function i(e){t(e).then(function(e){r(e)})}function r(e){console.log("Details -> ",e);document.querySelector(".modal-title").innerHTML=e.name;document.querySelector(".img-fluid.pokemon-image").src=e.imageUrl;document.querySelector(".pokemon-height").innerText="HEIGHT: "+e.height;document.querySelector(".pokemon-weight").innerText="WEIGHT: "+e.weight;document.querySelector(".pokemon-types").innerText="TYPE(S): "+e.types}return document.addEventListener("keydown",function(e){"Escape"===e.key&&modalContainer.classList.remove("isVisible")}),{getAll:o,add:n,addListItem:function e(t){let n=document.querySelector(".list-group"),o=document.createElement("li");o.classList.add("list-group-item");let r=document.createElement("button");r.innerText=t.name,r.classList.add("btn"),r.setAttribute("data-toggle","modal"),r.setAttribute("data-target","#myModal"),o.appendChild(r),n.appendChild(o),r.addEventListener("click",function(){i(t)})},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?offset=20&limit=250").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:t,showDetails:i,showModal:r}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});